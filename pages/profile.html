<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Личный кабинет — CoffeeReview</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="../index.html" class="logo">CoffeeReview</a>
                <div class="nav-menu" id="navMenu">
                    <a href="../index.html" class="nav-item">Главная</a>
                    <a href="ratings.html" class="nav-item">Рейтинги</a>
                    <a href="menu.html" class="nav-item">Меню</a>
                    <a href="profile.html" class="nav-item nav-btn active">Профиль</a>
                </div>
                <button class="burger" id="burger" aria-label="Меню">
                    <span></span>
                    <span></span>
                </button>
            </nav>
        </div>
    </header>

    <main>
        <section class="profile-section">
            <div class="container">
                <div class="profile-header">
                    <div class="profile-info">
                        <div class="profile-avatar">
                            <span id="avatarInitials">АП</span>
                        </div>
                        <div class="profile-details">
                            <h1 class="profile-name" id="userName">Имя Фамилия</h1>
                            <p class="profile-email" id="userEmail">email@example.com</p>
                            <p class="profile-date">На сайте с <span id="memberSince">01.01.2025</span></p>
                        </div>
                    </div>
                    <div class="profile-actions">
                        <button class="btn btn-outline" id="editProfileBtn">Редактировать</button>
                        <button class="btn btn-outline" id="logoutBtn">Выйти</button>
                    </div>
                </div>

                <div class="profile-stats">
                    <div class="profile-stat">
                        <div class="profile-stat-num" id="totalReviews">0</div>
                        <div class="profile-stat-label">Отзывов</div>
                    </div>
                    <div class="profile-stat">
                        <div class="profile-stat-num" id="avgUserRating">0.0</div>
                        <div class="profile-stat-label">Средняя оценка</div>
                    </div>
                    <div class="profile-stat">
                        <div class="profile-stat-num" id="approvedReviews">0</div>
                        <div class="profile-stat-label">Одобрено</div>
                    </div>
                    <div class="profile-stat">
                        <div class="profile-stat-num" id="pendingReviews">0</div>
                        <div class="profile-stat-label">На модерации</div>
                    </div>
                </div>

                <div class="profile-content">
                    <div class="profile-tabs">
                        <button class="profile-tab active" data-tab="reviews">Мои отзывы</button>
                        <button class="profile-tab" data-tab="settings">Настройки</button>
                    </div>

                    <div class="profile-tab-content" id="reviewsTab">
                        <div class="profile-actions-bar">
                            <h2 class="profile-section-title">Ваши отзывы</h2>
                            <a href="review.html" class="btn btn-primary">Написать отзыв</a>
                        </div>

                        <div class="reviews-filter">
                            <button class="filter-btn active" data-filter="all">Все</button>
                            <button class="filter-btn" data-filter="approved">Одобренные</button>
                            <button class="filter-btn" data-filter="pending">На модерации</button>
                            <button class="filter-btn" data-filter="rejected">Отклоненные</button>
                        </div>

                        <div class="user-reviews-list" id="userReviewsList">
                        </div>
                    </div>

                    <div class="profile-tab-content hidden" id="settingsTab">
                        <h2 class="profile-section-title">Настройки профиля</h2>

                        <form class="settings-form" id="settingsForm">
                            <div class="form-group">
                                <label for="editFirstName" class="form-label">Имя</label>
                                <input type="text" id="editFirstName" class="form-input" required minlength="2" maxlength="50">
                            </div>

                            <div class="form-group">
                                <label for="editLastName" class="form-label">Фамилия</label>
                                <input type="text" id="editLastName" class="form-input" required minlength="2" maxlength="50">
                            </div>

                            <div class="form-group">
                                <label for="editEmail" class="form-label">Email</label>
                                <input type="email" id="editEmail" class="form-input" required>
                            </div>

                            <div class="settings-divider"></div>

                            <h3 class="settings-subtitle">Изменить пароль</h3>

                            <div class="form-group">
                                <label for="currentPassword" class="form-label">Текущий пароль</label>
                                <input type="password" id="currentPassword" class="form-input">
                            </div>

                            <div class="form-group">
                                <label for="newPassword" class="form-label">Новый пароль</label>
                                <input type="password" id="newPassword" class="form-input" minlength="8">
                            </div>

                            <div class="form-group">
                                <label for="confirmPassword" class="form-label">Подтвердите новый пароль</label>
                                <input type="password" id="confirmPassword" class="form-input">
                            </div>

                            <div class="auth-error" id="settingsError"></div>

                            <div class="settings-actions">
                                <button type="submit" class="btn btn-primary">Сохранить изменения</button>
                                <button type="button" class="btn btn-outline" id="cancelEditBtn">Отмена</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4 class="footer-title">CoffeeReview</h4>
                    <p class="footer-text">Прозрачная система отзывов, где каждое мнение имеет значение. Помогаем кофейням расти вместе с гостями.</p>
                </div>
                <div class="footer-col">
                    <h4 class="footer-title">Навигация</h4>
                    <a href="../index.html" class="footer-link">Главная</a>
                    <a href="ratings.html" class="footer-link">Рейтинги</a>
                    <a href="menu.html" class="footer-link">Меню</a>
                </div>
                <div class="footer-col">
                    <h4 class="footer-title">Аккаунт</h4>
                    <a href="auth.html" class="footer-link">Войти</a>
                    <a href="profile.html" class="footer-link">Личный кабинет</a>
                    <a href="review.html" class="footer-link">Оставить отзыв</a>
                </div>
                <div class="footer-col">
                    <h4 class="footer-title">Контакты</h4>
                    <p class="footer-text">Москва, ул. Кофейная, 12</p>
                    <p class="footer-text">info@coffeereview.ru</p>
                    <p class="footer-text">+7 495 123-45-67</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 CoffeeReview. Курсовой проект Орлова Ярослава, ИСП-0029</p>
            </div>
        </div>
    </footer>

    <script src="../js/script.js"></script>
    <script src="../js/profile.js"></script>
</body>
</html>
