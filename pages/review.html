<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Оставить отзыв — CoffeeReview</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="../index.html" class="logo">CoffeeReview</a>
                <div class="nav-menu" id="navMenu">
                    <a href="../index.html" class="nav-item">Главная</a>
                    <a href="ratings.html" class="nav-item">Рейтинги</a>
                    <a href="menu.html" class="nav-item">Меню</a>
                    <a href="profile.html" class="nav-item nav-btn">Профиль</a>
                </div>
                <button class="burger" id="burger" aria-label="Меню">
                    <span></span>
                    <span></span>
                </button>
            </nav>
        </div>
    </header>

    <main>
        <section class="review-section">
            <div class="container">
                <div class="review-wrapper">
                    <div class="review-header">
                        <h1 class="review-title">Оставить отзыв</h1>
                        <p class="review-subtitle">Поделитесь своими впечатлениями о посещении нашей кофейни</p>
                    </div>

                    <form class="review-form" id="reviewForm">
                        <div class="form-section">
                            <h2 class="form-section-title">Тип отзыва</h2>
                            
                            <div class="review-type-selector">
                                <label class="radio-card">
                                    <input type="radio" name="reviewType" value="general" checked>
                                    <div class="radio-card-content">
                                        <div class="radio-card-title">Общий отзыв</div>
                                        <div class="radio-card-desc">О кофейне в целом</div>
                                    </div>
                                </label>
                                
                                <label class="radio-card">
                                    <input type="radio" name="reviewType" value="menu_item">
                                    <div class="radio-card-content">
                                        <div class="radio-card-title">Отзыв о напитке</div>
                                        <div class="radio-card-desc">О конкретной позиции меню</div>
                                    </div>
                                </label>
                            </div>

                            <div class="form-group hidden" id="menuItemGroup">
                                <label for="menuItem" class="form-label">Выберите позицию</label>
                                <select id="menuItem" class="form-select">
                                    <option value="">-- Выберите --</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-section">
                            <h2 class="form-section-title">Оценка</h2>
                            <p class="form-section-desc">Оцените по каждому критерию от 1 до 5</p>

                            <div class="rating-groups">
                                <div class="rating-group">
                                    <label class="rating-label">Качество</label>
                                    <div class="rating-stars" data-rating="quality">
                                        <button type="button" class="rating-star" data-value="1">★</button>
                                        <button type="button" class="rating-star" data-value="2">★</button>
                                        <button type="button" class="rating-star" data-value="3">★</button>
                                        <button type="button" class="rating-star" data-value="4">★</button>
                                        <button type="button" class="rating-star" data-value="5">★</button>
                                    </div>
                                    <input type="hidden" name="quality" value="0">
                                </div>

                                <div class="rating-group">
                                    <label class="rating-label">Вкус</label>
                                    <div class="rating-stars" data-rating="taste">
                                        <button type="button" class="rating-star" data-value="1">★</button>
                                        <button type="button" class="rating-star" data-value="2">★</button>
                                        <button type="button" class="rating-star" data-value="3">★</button>
                                        <button type="button" class="rating-star" data-value="4">★</button>
                                        <button type="button" class="rating-star" data-value="5">★</button>
                                    </div>
                                    <input type="hidden" name="taste" value="0">
                                </div>

                                <div class="rating-group">
                                    <label class="rating-label">Обслуживание</label>
                                    <div class="rating-stars" data-rating="service">
                                        <button type="button" class="rating-star" data-value="1">★</button>
                                        <button type="button" class="rating-star" data-value="2">★</button>
                                        <button type="button" class="rating-star" data-value="3">★</button>
                                        <button type="button" class="rating-star" data-value="4">★</button>
                                        <button type="button" class="rating-star" data-value="5">★</button>
                                    </div>
                                    <input type="hidden" name="service" value="0">
                                </div>

                                <div class="rating-group">
                                    <label class="rating-label">Атмосфера</label>
                                    <div class="rating-stars" data-rating="atmosphere">
                                        <button type="button" class="rating-star" data-value="1">★</button>
                                        <button type="button" class="rating-star" data-value="2">★</button>
                                        <button type="button" class="rating-star" data-value="3">★</button>
                                        <button type="button" class="rating-star" data-value="4">★</button>
                                        <button type="button" class="rating-star" data-value="5">★</button>
                                    </div>
                                    <input type="hidden" name="atmosphere" value="0">
                                </div>

                                <div class="rating-group">
                                    <label class="rating-label">Цена/Качество</label>
                                    <div class="rating-stars" data-rating="value">
                                        <button type="button" class="rating-star" data-value="1">★</button>
                                        <button type="button" class="rating-star" data-value="2">★</button>
                                        <button type="button" class="rating-star" data-value="3">★</button>
                                        <button type="button" class="rating-star" data-value="4">★</button>
                                        <button type="button" class="rating-star" data-value="5">★</button>
                                    </div>
                                    <input type="hidden" name="value" value="0">
                                </div>
                            </div>

                            <div class="average-rating">
                                <span class="average-rating-label">Средняя оценка:</span>
                                <span class="average-rating-value" id="averageRating">0.0</span>
                            </div>
                        </div>

                        <div class="form-section">
                            <h2 class="form-section-title">Ваш отзыв</h2>
                            
                            <div class="form-group">
                                <label for="reviewText" class="form-label">Текст отзыва</label>
                                <textarea 
                                    id="reviewText" 
                                    class="form-textarea" 
                                    placeholder="Расскажите о вашем опыте..."
                                    required
                                    minlength="20"
                                    maxlength="1000"
                                    rows="6"
                                ></textarea>
                                <div class="char-counter">
                                    <span id="charCount">0</span> / 1000 символов
                                </div>
                            </div>

                            <div class="form-checkbox">
                                <input type="checkbox" id="isAnonymous" class="checkbox-input">
                                <label for="isAnonymous" class="checkbox-label">Оставить отзыв анонимно</label>
                            </div>
                        </div>

                        <div class="auth-error" id="reviewError"></div>

                        <div class="review-actions">
                            <button type="submit" class="btn btn-primary btn-large">Отправить отзыв</button>
                            <a href="../index.html" class="btn btn-outline btn-large">Отмена</a>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4 class="footer-title">CoffeeReview</h4>
                    <p class="footer-text">Прозрачная система отзывов, где каждое мнение имеет значение. Помогаем кофейням расти вместе с гостями.</p>
                </div>
                <div class="footer-col">
                    <h4 class="footer-title">Навигация</h4>
                    <a href="../index.html" class="footer-link">Главная</a>
                    <a href="ratings.html" class="footer-link">Рейтинги</a>
                    <a href="menu.html" class="footer-link">Меню</a>
                </div>
                <div class="footer-col">
                    <h4 class="footer-title">Аккаунт</h4>
                    <a href="auth.html" class="footer-link">Войти</a>
                    <a href="profile.html" class="footer-link">Личный кабинет</a>
                    <a href="review.html" class="footer-link">Оставить отзыв</a>
                </div>
                <div class="footer-col">
                    <h4 class="footer-title">Контакты</h4>
                    <p class="footer-text">Москва, ул. Кофейная, 12</p>
                    <p class="footer-text">info@coffeereview.ru</p>
                    <p class="footer-text">+7 495 123-45-67</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 CoffeeReview. Курсовой проект Орлова Ярослава, ИСП-0029</p>
            </div>
        </div>
    </footer>

    <script src="../js/script.js"></script>
    <script src="../js/review.js"></script>
</body>
</html>
